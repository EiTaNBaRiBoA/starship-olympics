[gd_scene load_steps=15 format=3 uid="uid://do2vyllsu00yk"]

[ext_resource type="PackedScene" uid="uid://dmlwbymobhm0b" path="res://godot4/debug/TestChamber.tscn" id="1_2o1p3"]
[ext_resource type="PackedScene" uid="uid://cgjeqx4n1ot0e" path="res://godot4/actors/ships/Ship.tscn" id="2_0xx8t"]
[ext_resource type="PackedScene" uid="uid://d3d15u074tcak" path="res://actors/brains/PlayerBrain.tscn" id="3_pikay"]
[ext_resource type="PackedScene" uid="uid://5c144k74jpe7" path="res://godot4/elements/environments/Wall.tscn" id="4_l5458"]
[ext_resource type="Script" path="res://addons/vshapes/VBeveledRect.gd" id="5_kg646"]
[ext_resource type="Script" path="res://addons/vshapes/VRoundedRect.gd" id="6_8jdyk"]
[ext_resource type="Script" path="res://addons/vshapes/VMultiBeveledRect.gd" id="7_iwp2v"]
[ext_resource type="Script" path="res://addons/vshapes/VCustomShape.gd" id="8_k5t4d"]

[sub_resource type="GDScript" id="GDScript_0rj7w"]
script/source = "extends TestChamberLog


func _ready():
	super._ready()
	Events.sth_collected.connect(_on_sth_collected)
	
func _on_sth_collected(collector, collectee):
	log_line(\"[b]%s[/b] collected [b]%s[/b]\" % [collector.name, collectee.name])
"

[sub_resource type="Animation" id="Animation_61utp"]
resource_name = "Breathe"
length = 4.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("VRoundedRect:radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(-2, -2),
"update": 0,
"values": [935.0, 50.0]
}

[sub_resource type="Animation" id="Animation_1e1uc"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("VRoundedRect:radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [935.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_l1vkr"]
_data = {
"Breathe": SubResource("Animation_61utp"),
"RESET": SubResource("Animation_1e1uc")
}

[sub_resource type="Curve2D" id="Curve2D_m1xaf"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -2800, -1450, 0, 0, 0, 0, -2300, -1200, 0, 0, 0, 0, -2850, -800, 0, 0, 0, 0, -3350, -1050)
}
point_count = 4

[sub_resource type="Curve2D" id="Curve2D_5rbfa"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -3300, -750, 0, 0, 0, 0, -2700, -350, 0, 0, 0, 0, -2700, 450, 0, 0, 0, 0, -3300, 0)
}
point_count = 4

[node name="TestChamber" instance=ExtResource("1_2o1p3")]

[node name="TestChamberLog" parent="." index="4"]
script = SubResource("GDScript_0rj7w")

[node name="Ship" parent="." index="8" instance=ExtResource("2_0xx8t")]
unique_name_in_owner = true
position = Vector2(-794, 3)

[node name="PlayerBrain" parent="Ship" index="12" instance=ExtResource("3_pikay")]

[node name="OutsideWall" parent="." index="9" instance=ExtResource("4_l5458")]
hollow = true

[node name="VRoundedRect" type="Node" parent="OutsideWall" index="4" node_paths=PackedStringArray("hosts")]
script = ExtResource("6_8jdyk")
width = 6000.0
height = 3200.0
radius = 935.0
hosts = [NodePath("..")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="OutsideWall" index="5"]
libraries = {
"": SubResource("AnimationLibrary_l1vkr")
}
autoplay = "Breathe"

[node name="Wall" parent="." index="10" instance=ExtResource("4_l5458")]
position = Vector2(750, -800)

[node name="VBeveledRect" type="Node" parent="Wall" index="4"]
script = ExtResource("5_kg646")
width = 400.0

[node name="Wall2" parent="." index="11" instance=ExtResource("4_l5458")]
position = Vector2(750, 300)

[node name="VMultiBeveledRect" type="Node" parent="Wall2" index="4"]
script = ExtResource("7_iwp2v")
width = 400.0
height = 400.0
bevel_nw = 0.0
bevel_ne = 100.0
bevel_sw = 200.0

[node name="Wall3" parent="." index="12" instance=ExtResource("4_l5458")]
position = Vector2(750, 300)

[node name="VCustomShape" type="Path2D" parent="Wall3" index="4"]
curve = SubResource("Curve2D_m1xaf")
script = ExtResource("8_k5t4d")

[node name="Wall4" parent="." index="13" instance=ExtResource("4_l5458")]
position = Vector2(750, 300)

[node name="VCustomShape" type="Path2D" parent="Wall4" index="4"]
curve = SubResource("Curve2D_5rbfa")
script = ExtResource("8_k5t4d")
